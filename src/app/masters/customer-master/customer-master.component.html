<div class="container-fluid">
  <div class="row">
    <label for="cars">Data per page:
      <select id="limit" name="limit" (click)="dataLimit()">
        <option *ngFor="let limit of limits" value="{{limit.value}}">{{limit.key}}</option>
      </select>
    </label>
    <div class="table-responsive mt-2">
      <table class="table table-striped table-hover align-middle">
        <thead class="text-white sticky-top" style="background: #454397">
          <tr>
            <th>Sr. No.</th>
            <th>Customer Code</th>
            <th>Customer Name</th>
            <th>Father Name</th>
            <th>Customer DOB</th>
            <th>Customer Address</th>
            <th>State</th>
            <th>Tehsil</th>
            <th>Village Name</th>
            <th>Pin Code</th>
            <th>Mobile No.</th>
            <th>Email</th>
            <th>Aadhar No.</th>
            <th>Pan No.</th>
            <th>Created On</th>
            <th>Action</th>
          </tr>
        </thead>
        <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status" *ngIf="loading">
          <span class="visually-hidden"></span>
        </div>
        <tbody *ngIf="!loading">
          <tr *ngFor="let customer of customersData | paginate: { itemsPerPage: limit, currentPage: pageData }; let i=index">
            <td data-title="Sr. No.">{{limit*(pageData-1)+i+1}}</td>
            <td data-title="Sr. No." data-bs-toggle="modal" data-bs-target="#custView" (click)="viewFullInfo(customer)">{{customer.dealerCode}}</td>
            <td data-title="Sr. No.">{{customer.customerId}}</td>
            <td data-title="Owner's Name"><a (click)="viewFullInfo(customer)">{{customer.ownerName}}</a></td>
            <td data-title="Customer DOB">{{customer.customerDOB | date:'dd-MM-yyyy'}}</td>
            <td data-title="Customer Address">{{customer.address.customerAddress}}</td>
            <td data-title="Mobile No">{{customer.address.stateName}}</td>
            <td data-title="Mobile No">{{customer.address.tehsil}}</td>
            <td data-title="Mobile No">{{customer.address.villageName}}</td>
            <td data-title="Mobile No">{{customer.address.pinCode}}</td>
            <td data-title="Mobile No">{{customer.mobileNo}}</td>
            <td data-title="Email">{{customer.customerEmail}}</td>
            <td data-title="Aadhar No">{{customer.aadharNo}}</td>
            <td data-title="Pan No">{{customer.panNo}}</td>
            <td data-title="Created On">{{customer.CreatedDate | date:'dd-MM-yyyy'}}</td>
            <td data-title="Options" class="text-center">
              <div class="container">
                  <div class="row">
                      <div class="col-6 col-md-6">
                          <button class="btn bg-blue btn-xs radius_none" data-bs-toggle="modal" data-bs-target="#custEdit" (click)="editCustomerInfo(customer)"><span class="fa fa-edit margin-right-0"></span></button>
                      </div>
                      <div class="col-6 col-md-6">
                          <button class="btn bg-blue btn-xs radius_none" data-bs-toggle="modal" data-bs-target="#custDelete" (click)="deleteCustomerInfo(customer)"><span class="fa fa-trash margin-right-0"></span></button>
                      </div>
                  </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
      <div class="input-group-icon input-group-icon-right col-md-12 mt-2">
        <pagination-controls (pageChange)="pageData = $event"></pagination-controls>
      </div>
  </div>
</div>
<div class="modal fade" id="custView" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" *ngFor="let custInfo of customersInfo">
      <div class="modal-header" style="background: #454397">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="custEdit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog">
  <div class="modal-content" *ngFor="let custInfo of customersInfo">
    <div class="modal-header" style="background: #454397">
      <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
      ...
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      <button type="button" class="btn btn-primary">Save changes</button>
    </div>
  </div>
</div>
</div>
<div class="modal fade" id="custDelete" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog">
  <div class="modal-content" *ngFor="let custInfo of customersInfo">
    <div class="modal-header" style="background: #454397">
      <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
      ...
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      <button type="button" class="btn btn-primary">Save changes</button>
    </div>
  </div>
</div>
</div>
