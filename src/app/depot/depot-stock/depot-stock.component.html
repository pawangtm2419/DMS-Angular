<section>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <!-- searchbar-row -->
        <div class="sidebarMain">
          <div class="row">
            <div class="col-md-12">
              <ul class="model-menu">
                <li><a routerLink="">Depot</a></li>/
                <li><a routerLink="/depot-stock">Depot Stock</a></li>
              </ul>
            </div>
            <div class="col-md-6">
              <div class="searchBar d-flex justify-content-center align-items-center">
                <i class="fas fa-search"></i><input class="form-control" type="search" [(ngModel)]="searchData" placeholder="Search" aria-label="Search">
              </div>
            </div>
            <div class="col-md-6 align-self-end text-end filterMain">
              <button class="btn btn-primary me-2" type="button" data-bs-toggle="collapse" data-bs-target="#filter" aria-expanded="false" aria-controls="collapseExample"> <i class="fa fa-filter"></i> </button>
              <button type="button" class="btn btn-primary me-2" *ngIf="depotData.length > 0" (click)="download()" title="Download selected records"><i class="fa fa-download"></i></button>
              <label for="limit">
                <select id="limit" name="limit" class="form-select" (click)="dataLimit()">
                  <option *ngFor="let limit of limits" value="{{limit.value}}">{{limit.key}}</option>
                </select>
              </label>
            </div>
          </div>
        </div>
        <div class="collapse mb-2" id="filter">
          <div class="card card-body">
            <div class="container">
              <div class="row">
                <div class="d-downMain">
                  <div class="row" style="--bs-gutter-x: 1.5rem;">
                    <div class="col-md-2 mbSm">
                      <div class="row align-items-center" style="--bs-gutter-x: 1rem;">
                        <input list="depots" name="depotName" [(ngModel)]="selectedDepotName" placeholder="Select Depot" class="form-control">
                        <datalist id="depots">
                          <option *ngFor="let obj of depotList" value="{{obj.depotCode}}">
                        </datalist>
                      </div>
                    </div>
                    <div class="col-md-2 mbSm">
                      <div class="row align-items-center" style="--bs-gutter-x: 1rem;">
                        <input list="models" name="modelName" [(ngModel)]="selectedModelName" placeholder="Select Model" class="form-control">
                        <datalist id="models">
                          <option *ngFor="let obj of modelList" value="{{obj}}">
                        </datalist>
                      </div>
                    </div>
                    <div class="col-md-2 mbSm">
                      <div class="row align-items-center" style="--bs-gutter-x: 1rem;">
                        <select name="valueCheck" class="form-select">
                          <option value="">To depot</option>
                          <option> depot Name</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-2 mbSm">
                      <div class="row align-items-center" style="--bs-gutter-x: 1rem;">
                        <select name="valueCheck" class="form-select">
                          <option value="">Transport Mode</option>
                          <option>Transport Name</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-2 mbSm">
                      <div class="row align-items-center" style="--bs-gutter-x: 1rem;">
                        <div>
                          <select name="valueCheck" class="form-select">
                            <option value="">Transport Name</option>
                            <option> Transport Name</option>
                          </select>
                        </div>
                        <!-- <div>
                          <select name="valueCheck" class="form-select">
                            <option value="">Driver Name</option>
                            <option> driver Name </option>
                          </select>
                        </div> -->
                      </div>
                    </div>
                    <div class="col-md-2 align-self-end text-end">
                      <div class="BtnMainGrp">
                        <button type="button" (click)="getFilteredDepotStockList()" class="btn btn-primary me-2">Show Data</button>
                        <button type="button" class="btn btn-primary">Clear</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- searchbar-row -->
        <div class="table-responsive">
          <table class="table table-striped table-hover align-middle" id="export">
            <thead class="text-white sticky-top theadbg">
              <tr>
                <th>#.</th>
                <th>Depot Code</th>
                <th>Depot Name</th>
                <th>Product Code</th>
                <th>Model Code</th>
                <th>Variant Code</th>
                <th>Chassis No.</th>
                <th>Engine No.</th>
                <th>Market</th>
                <th>Production_Date</th>
                <th>NDP_withoutTax</th>
                <th>Tax</th>
                <th>Ageing</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let dStock of depotData | filter: searchData | paginate: { itemsPerPage: limit, currentPage: pageData }; let i=index">
                <td data-title="Sr. No.">{{limit*(pageData-1)+i+1}}</td>
                <td data-title="Depot Code">{{dStock.depot.code }}</td>
                <td data-title="Depot Name">{{dStock.depot.name}}</td>
                <td data-title="Product Code">{{dStock.productCode}}</td>
                <td data-title="Model Code">{{dStock.model}}</td>
                <td data-title="Variant Code">{{dStock.variantCode}}</td>
                <td data-title="Chasis No">{{dStock.chassisNo}}</td>
                <td data-title="Engine No">{{dStock.engineNo}}</td>
                <td data-title="Mkt">{{dStock.market}}</td>
                <td data-title="Prod-Date">{{dStock.prodDate | date:"dd-MM-yyyy"}}</td>
                <td data-title="NDP_withoutTax">{{dStock.NDP | currency: 'INR'}}</td>
                <td data-title="Tax">{{dStock.SST +dStock.GST}}</td>
                <td data-title="Ageing"> {{dStock.prodDate | date:"dd-MM-yyyy"}}</td>
                <td data-title="Status">{{dStock.status | uppercase}}</td>
                <td style="width: 100px;" data-title="Options" class="text-center">
                  <a class="txt-link" href="" data-toggle="modal"> Form 22 </a>
                  <a class="editIcon icon me-0" data-toggle="modal"><i class="fa fa-edit"></i></a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="input-group-icon input-group-icon-right mt-2">
          <pagination-controls (pageChange)="pageData = $event"></pagination-controls>
        </div>
      </div>
    </div>
  </div>
</section>